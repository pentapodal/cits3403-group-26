{% extends "base.html" %}

{% block content %}

  <div class="friends-container">

    <p>Friends</p>
    <button class="add-friend-btn" onclick="document.getElementById('add-friend-modal').style.display='block'">Add Friend</button>
    <div id="add-friend-modal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="document.getElementById('add-friend-modal').style.display='none'">&times;</span>
        <h2>Add friends</h2>
        <form action="{{ url_for('add_friend') }}" method="POST">
          <input type="text" name="friend_username" placeholder="Enter friend's username" required>
          <button type="submit">Send friend request</button>
        </form>
      </div>

    <div class="friends-grid">

      {% for friend in friends %}

      <div class="friend-card">

        
        {% if friend.profile_picture %}
          <img src="{{ url_for('static', filename='images/profile_pictures/' + friend.profile_picture) }}" alt="pfp" width="50" height="50">
        {% else %}
          <img src="{{ url_for('static', filename='images/profile_pictures/default.png') }}" alt="Default pfp" width="50" height="50">
        {% endif %}
        <span class="friend-username">{{friend.username}}</span>

      </div>

      {% else %}
      <p>You have no friends yet.</p>

      {% endfor %}

    </div>

  </div>
{% endblock content %}
